<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Игровой Портал - Nonogram Style</title>
  <!-- Assets served from /public -->
  <link rel="stylesheet" href="/css/style.css">
  <script>
    // Prevent theme flick: Apply theme before body renders
    (function () {
      const theme = localStorage.getItem('nomo7-theme') || 'dark';
      if (theme === 'dark') document.documentElement.classList.add('dark');
      else document.documentElement.classList.remove('dark');
    })();
  </script>
</head>

<body>

  <!-- Шапка сайта -->
  <header>
    <a href="/index.html" class="logo">
      <span class="logo-icon"></span>
      <span data-i18n="header.logo">MyGamePortal</span>
    </a>

    <nav>
      <ul>
        <li><a href="/index.html" class="active" data-i18n="nav.play">Играть</a></li>
        <li><a href="#" data-i18n="nav.rating">Рейтинг</a></li>
        <li><a href="/rules.html" data-i18n="nav.rules">Правила</a></li>
        <li><a href="#" data-i18n="nav.forum">Форум</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <div id="theme-toggle-root" class="theme-toggle-container"></div>
    </div>
  </header>

  <!-- Основной контент -->
  <main class="main-container">

    <!-- Левая колонка: Игровое поле (Iframe) -->
    <section class="game-section">
      <div class="game-header">
        <div class="game-title">
          <h1 data-i18n="game.title">Нонограммы: Уровень 1</h1>
        </div>
        <div class="game-meta">
          <span data-i18n="game.difficulty">Сложность: Настраиваемая</span>
        </div>
      </div>

      <!-- Здесь находится контейнер для вашей игры -->
      <!-- Modified to host React App instead of Canvas -->
      <div class="game-wrapper" style="position: relative; height: auto; min-height: 600px; padding-bottom: 0;">
        <div id="root" style="width: 100%; height: 100%;"></div>
      </div>

      </div>
    </section>

    <div class="panel how-to-play-panel" style="margin-top: 20px;">
      <h3 data-i18n="panel.how_to_play">Как играть</h3>
      <ul class="controls-list">
        <li>
          <span class="key" data-i18n="controls.lmb">ЛКМ</span>
          <span data-i18n="controls.paint">Закрасить клетку</span>
        </li>
        <li>
          <span class="key" data-i18n="controls.rmb">ПКМ</span>
          <span data-i18n="controls.cross">Поставить крестик</span>
        </li>
        <li>
          <span class="key" data-i18n="controls.drag">Drag</span>
          <span data-i18n="controls.draw">Рисовать / Прокручивать карту</span>
        </li>
      </ul>
    </div>

  </main>

  <!-- Подвал -->
  <footer>
    <p data-i18n="footer.copy">&copy; 2023 MyGamePortal. Все права защищены.</p>
    <p style="margin-top: 5px;">
      <a href="/privacy.html" data-i18n="footer.privacy">Политика конфиденциальности</a> |
      <a href="/terms.html" data-i18n="footer.terms">Условия использования</a> |
      <a href="/contacts.html" data-i18n="footer.contacts">Контакты</a>
    </p>
  </footer>

  <!-- Scripts from public/ -->
  <script src="/js/i18n.js"></script>
  <script src="/js/script.js"></script>
  <!-- React Enty Point -->
  <script type="module" src="/index.tsx"></script>
</body>

</html>